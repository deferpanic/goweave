aspect {
  pointcut: execute(main)
  imports (
    "fmt"
    "github.com/deferpanic/deferclient/deferstats"
  )
  advice: {
    before: {
      dps := deferstats.NewClient("v00L0K6CdKjE4QwX5DL1iiODxovAHUfo")
      go dps.CaptureStats()
      fmt.Println("before main")
    }
  }
}

aspect {
  pointcut: execute(d(http.ResponseWriter, *http.Request))
  advice: {
    before: {
      fmt.Println("before call")
    }
    after: {
      fmt.Println("after call")
    }
  }
}
